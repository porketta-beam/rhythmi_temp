# ===== OpenAI API 설정 =====
# OpenAI API 키 (https://platform.openai.com/api-keys 에서 발급)
OPENAI_API_KEY=your-openai-api-key-here

# 사용할 OpenAI 모델 (기본값: gpt-4o-mini)
# - gpt-4o-mini: 빠르고 저렴 (1-3초, $0.15/1M tokens)
# - gpt-4o: 더 정확하지만 느림 (5-10초, $2.50/1M tokens)
OPENAI_MODEL=gpt-4o-mini

# 최대 토큰 수 (기본값: 50)
# 피부 타입 분류는 단일 단어 응답이므로 50 토큰이면 충분
OPENAI_MAX_TOKENS=50

# Temperature (기본값: 0)
# 0 = 일관된 결과, 1 = 창의적이지만 불규칙
# 분류 작업이므로 0으로 설정하여 일관성 보장
OPENAI_TEMPERATURE=0


# ===== 타임아웃 및 재시도 설정 =====
# AI 응답 대기 시간 (초) (기본값: 10)
# gpt-4o-mini는 평균 1-3초 응답이므로 10초면 2-3회 재시도 가능
AI_TIMEOUT_SECONDS=10

# 최대 재시도 횟수 (기본값: 2)
# 첫 시도 실패 시 최대 2번 더 시도
AI_MAX_RETRIES=2

# 재시도 대기 시간 (초) (기본값: 0.5)
# 재시도 전 대기 시간
AI_RETRY_DELAY=0.5


# ===== Fallback 설정 =====
# AI 실패 시 기존 스코어링 로직 사용 여부 (기본값: true)
ENABLE_FALLBACK=true

# Fallback 사용 시 로그 기록 여부 (기본값: true)
# 로그를 통해 AI 실패 빈도와 원인을 추적할 수 있음
LOG_FALLBACK=true


# ===== Supabase API 설정 =====
# Supabase 프로젝트 URL
SUPABASE_URL=your-supabase-url-here

# Supabase API 키 (anon/public 키)
SUPABASE_KEY=your-supabase-key-here


# ===== Supabase PostgreSQL 연결 설정 =====
# Railway의 PORT와 충돌 방지를 위해 SUPABASE_DB_ 접두사 사용
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres.your-project-ref
SUPABASE_DB_PASSWORD=your-database-password
SUPABASE_DB_HOST=aws-0-region.pooler.supabase.com
SUPABASE_DB_PORT=6543
SUPABASE_DB_POOL_MODE=transaction


# ===== 서버 설정 =====
# FastAPI 서버 포트
# - 로컬: 기본값 8000 사용 (설정 불필요)
# - Railway/Render: PORT 환경변수를 자동 주입
# PORT=8000  # 로컬에서 다른 포트 사용 시에만 설정

# 개발 모드 (기본값: true)
# true = 상세 로그, false = 프로덕션 로그
DEBUG=true
