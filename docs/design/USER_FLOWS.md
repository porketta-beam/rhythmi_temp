# eventManager 사용자 플로우 (User Flows)

## 목차
1. [주최자 플로우](#주최자-플로우)
2. [참여자 플로우](#참여자-플로우)
3. [프리미엄 전환 플로우](#프리미엄-전환-플로우)

---

## 주최자 플로우

### 1. 첫 이벤트 생성 플로우 (First-Time Event Creation)

**목표 시간:** 3분 이내
**핵심 원칙:** 3탭 규칙, 한 손 조작

```
┌─────────────────────────────────────────────────────────────┐
│ PHASE 1: 온보딩 및 회원가입                                     │
└─────────────────────────────────────────────────────────────┘

[앱 다운로드/웹 접속]
        ↓
[스플래시 스크린]
   • 로고 + 태그라인
   • 0.5초
        ↓
[온보딩 화면 1/3]   ─┐
   • "이벤트 생성"   │
   • 일러스트        │ 건너뛰기 가능
        ↓            │
[온보딩 화면 2/3]   ─┤
   • "출석 체크"     │
   • 일러스트        │
        ↓            │
[온보딩 화면 3/3]   ─┘
   • "경품 추첨"
   • 일러스트
        ↓
[회원가입/로그인]
   ┌─────────┬─────────┬─────────┐
   │ 이메일   │ 구글    │ 카카오   │
   └─────────┴─────────┴─────────┘
        ↓
[프로필 설정] (선택사항)
   • 이름
   • 조직/단체명
   • 프로필 사진
        ↓

┌─────────────────────────────────────────────────────────────┐
│ PHASE 2: 이벤트 생성                                            │
└─────────────────────────────────────────────────────────────┘

[홈 대시보드]
   • CTA: "첫 이벤트 만들기" (큰 버튼)
   • 빈 상태 일러스트
        ↓
[이벤트 생성 - 1단계: 기본 정보]
   필수 입력:
   ├─ 이벤트 이름 *
   ├─ 날짜 및 시간 * (달력 선택)
   ├─ 위치 * (텍스트 또는 지도 선택)
   └─ 설명 (선택사항)

   하단 버튼: [다음]
        ↓
[이벤트 생성 - 2단계: 참여자 설정]
   필수 입력:
   ├─ 최대 참여자 수 * (숫자 입력/슬라이더)
   ├─ 등록 마감일 (선택사항)
   └─ 참여자 모드
       ├─ 실명 등록 (기본)
       └─ 익명 등록 (닉네임)

   하단 버튼: [다음]
        ↓
[이벤트 생성 - 3단계: 등록 폼 커스터마이징]
   수집할 정보 선택:
   ├─ ☑ 이름 (필수, 비활성화)
   ├─ ☑ 이메일
   ├─ ☐ 전화번호
   ├─ ☐ 소속/회사
   ├─ ☐ 식단 제한사항
   └─ + 맞춤 질문 추가

   하단 버튼: [미리보기]
        ↓
[이벤트 미리보기]
   • 등록 페이지 시뮬레이션
   • 참여자 관점 미리보기

   하단 버튼:
   ├─ [수정하기]
   └─ [이벤트 생성] ✓
        ↓

┌─────────────────────────────────────────────────────────────┐
│ PHASE 3: 공유 및 완료                                           │
└─────────────────────────────────────────────────────────────┘

[이벤트 생성 완료]
   축하 애니메이션 (색종이 효과)

   생성된 링크:
   ┌───────────────────────────────────┐
   │ eventmanager.app/e/ABC123         │
   │ [복사] [공유]                      │
   └───────────────────────────────────┘

   빠른 공유:
   ├─ 카카오톡
   ├─ 문자 메시지
   ├─ 이메일
   └─ 링크 복사
        ↓
[홈 대시보드 - 이벤트 활성]
   이벤트 카드 표시:
   ├─ 이벤트 이름
   ├─ 날짜/시간
   ├─ 등록자 수 (실시간)
   └─ [관리하기] 버튼
```

**데이터 요구사항:**
- 입력: 사용자 인증 정보, 이벤트 메타데이터
- 출력: 이벤트 ID, 공유 가능 URL
- 저장: 로컬 + 서버 동기화

**에러 처리:**
- 네트워크 오류 → 초안으로 로컬 저장, 재연결 시 동기화
- 필수 필드 누락 → 인라인 검증 메시지
- 중복 이벤트명 → 경고 + 계속 진행 옵션

---

### 2. 이벤트 당일 출석 체크 플로우 (Event Day Check-In)

**목표 시간:** 참여자당 5초 이내
**핵심 원칙:** 오프라인 우선, 한 손 조작, 즉각적 피드백

```
┌─────────────────────────────────────────────────────────────┐
│ PHASE 1: 출석 체크 준비                                         │
└─────────────────────────────────────────────────────────────┘

[홈 대시보드]
   이벤트 리스트:
   ├─ 오늘 이벤트 (상단 고정)
   ├─ 예정된 이벤트
   └─ 지난 이벤트
        ↓
[오늘 이벤트 선택]
   탭:
        ↓
[이벤트 상세 - 개요 탭]
   ┌────────────────────────┐
   │ 등록: 80명              │
   │ 출석: 0명               │
   │ 진행률: 0%              │
   └────────────────────────┘

   버튼:
   ├─ [출석 체크 시작] (주요 CTA)
   ├─ [참여자 명단 보기]
   └─ [경품 추첨]
        ↓
[출석 체크 모드 진입]
   확인 다이얼로그:
   "출석 체크를 시작하시겠습니까?"
   • 오프라인 모드 지원
   • 나중에 동기화됨

   [시작하기] / [취소]
        ↓

┌─────────────────────────────────────────────────────────────┐
│ PHASE 2: 출석 체크 실행                                         │
└─────────────────────────────────────────────────────────────┘

[출석 체크 화면]
   ┌────────────────────────────────┐
   │ 📊 42/80 출석 완료 (52%)       │
   │ [━━━━━━━━━━░░░░░░░]           │
   └────────────────────────────────┘

   [🔍 이름 또는 번호 검색...]  ← 자동 포커스
        ↓ (2글자 입력 후)

   자동완성 결과:
   ┌────────────────────────────────┐
   │ 김민수 (등록 #042)              │ ← 탭 가능
   ├────────────────────────────────┤
   │ 김민지 (등록 #053)              │
   ├────────────────────────────────┤
   │ 김민호 (등록 #067) ✓ 출석 완료  │ ← 비활성화
   └────────────────────────────────┘
        ↓ [김민수 탭]

[출석 확인 애니메이션]
   • ✓ 체크 마크 애니메이션 (0.3초)
   • 햅틱 피드백
   • 카운터 증가 (42 → 43)
        ↓ (자동)

[검색창 자동 초기화]
   다음 참여자 검색 대기

   빠른 액션:
   ├─ [완료] (상단 우측)
   ├─ [통계 보기]
   └─ [필터] (출석/미출석/전체)
        ↓

┌─────────────────────────────────────────────────────────────┐
│ PHASE 3: 완료 및 동기화                                         │
└─────────────────────────────────────────────────────────────┘

[출석 체크 완료]
   ┌────────────────────────────────┐
   │ 🎉 출석 체크 완료!              │
   │                                │
   │ 총 등록: 80명                   │
   │ 출석 완료: 76명 (95%)           │
   │ 미출석: 4명                     │
   └────────────────────────────────┘

   동기화 상태:
   • 온라인: "모든 기기에 동기화됨" ✓
   • 오프라인: "4건의 변경사항 대기 중" ⏳

   액션:
   ├─ [참여자 명단 보기]
   ├─ [미출석자에게 알림]
   ├─ [데이터 내보내기]
   └─ [경품 추첨으로 이동]
```

**데이터 흐름:**
1. 서버에서 참여자 목록 다운로드
2. 로컬 데이터베이스에 캐시
3. 출석 체크 → 로컬 저장 (즉시)
4. 백그라운드에서 서버 동기화
5. 충돌 해결: 타임스탬프 기반 최신 우선

**오프라인 처리:**
- 모든 출석 데이터 로컬 저장
- 동기화 큐에 추가
- 재연결 시 자동 업로드
- 충돌 감지 → 최신 타임스탬프 우선

---

### 3. 경품 추첨 플로우 (Prize Drawing)

**목표 시간:** 추첨당 10-15초
**핵심 원칙:** 몰입감, 공개 발표 최적화

```
┌─────────────────────────────────────────────────────────────┐
│ PHASE 1: 추첨 설정                                              │
└─────────────────────────────────────────────────────────────┘

[이벤트 상세 화면]
   탭 선택: [경품 추첨]
        ↓
[경품 추첨 설정]
   참여자 풀 선택:
   ├─ ● 출석자만 (76명) ← 기본값
   └─ ○ 모든 등록자 (80명)

   추첨 옵션:
   ├─ ☑ 중복 당첨 방지
   ├─ ☐ 특정 그룹만 (필터 옵션)
   └─ ☐ 가중치 적용

   이전 추첨 이력:
   ├─ 1차 추첨: 김민수 (14:23)
   └─ 2차 추첨: 이지은 (14:45)

   [추첨 시작] (큰 버튼)
        ↓
[화면 방향 안내]
   "최적의 경험을 위해 가로 모드로 전환하세요"
   [계속] / [가로 모드로]
        ↓

┌─────────────────────────────────────────────────────────────┐
│ PHASE 2: 추첨 애니메이션                                        │
└─────────────────────────────────────────────────────────────┘

[추첨 대기 화면]
   전체 화면 모드
   ┌─────────────────────────────────────┐
   │                                     │
   │         경품 추첨 준비              │
   │                                     │
   │        [탭하여 추첨 시작]           │
   │                                     │
   │     참여자: 76명                     │
   └─────────────────────────────────────┘
        ↓ (탭)

[추첨 애니메이션 - 3-5초]
   단계별 연출:

   1. 카운트다운 (1초)
      3... 2... 1...

   2. 이름 회전 (2-3초)
      [빠르게 회전하는 이름들]
      김민수 → 박지훈 → 최수진...

   3. 감속 (1초)
      회전 속도 감소

   4. 정지 (0.5초)
      [당첨자 이름 고정]
        ↓

┌─────────────────────────────────────────────────────────────┐
│ PHASE 3: 당첨자 발표                                            │
└─────────────────────────────────────────────────────────────┘

[당첨자 발표 화면]
   전체 화면, 색종이 애니메이션

   ┌─────────────────────────────────────┐
   │                                     │
   │            🎉 당첨!                 │
   │                                     │
   │         [박지훈]                     │
   │                                     │
   │        등록 번호: #025              │
   │                                     │
   └─────────────────────────────────────┘

   하단 액션:
   ├─ [다시 추첨]
   ├─ [당첨 확정]
   └─ [공유하기]
        ↓
[당첨 확정]
   다이얼로그:
   "박지훈님을 당첨자로 확정하시겠습니까?"
   • 추첨 이력에 기록됨
   • 중복 당첨 방지 활성화 시 제외됨

   [확정] / [취소]
        ↓
[추첨 완료]
   토스트 메시지: "당첨자가 기록되었습니다"

   자동으로 이전 화면 복귀:
   [경품 추첨 설정] 화면
   • 업데이트된 이력 표시
```

**데이터 흐름:**
- 참여자 풀 필터링 (로컬)
- 랜덤 선택 알고리즘 (클라이언트 사이드)
- 당첨자 기록 (서버 동기화)
- 이력 관리 (읽기/쓰기)

**특수 기능:**
- 스크린 미러링 감지 → TV/프로젝터 최적화
- 사운드 효과 옵션
- 애니메이션 속도 조절

---

## 참여자 플로우

### 4. 참여자 등록 플로우 (Participant Registration)

**목표 시간:** 2분 이내
**핵심 원칙:** 앱 설치 불필요, 모바일 최적화

```
┌─────────────────────────────────────────────────────────────┐
│ PHASE 1: 링크 접속 및 이벤트 확인                               │
└─────────────────────────────────────────────────────────────┘

[초대 링크 수신]
   채널:
   ├─ 카카오톡 메시지
   ├─ 문자 메시지
   ├─ 이메일
   └─ QR 코드
        ↓
[링크 클릭]
   eventmanager.app/e/ABC123
        ↓
[이벤트 랜딩 페이지]
   ┌────────────────────────────────┐
   │ 📅 2025년 10월 북클럽 모임      │
   │                                │
   │ 📍 홍대 북카페                  │
   │ 🕐 10월 15일 오후 7시           │
   │                                │
   │ 주최자: 김사라                  │
   │ 등록: 42/50명                   │
   │                                │
   │ [등록하기]                      │
   │ [로그인하여 등록] (기존 사용자)  │
   └────────────────────────────────┘

   설명:
   "이번 달 읽을 책은 '코스모스'입니다..."
        ↓ [등록하기 클릭]

┌─────────────────────────────────────────────────────────────┐
│ PHASE 2: 등록 정보 입력                                         │
└─────────────────────────────────────────────────────────────┘

[등록 폼]
   진행률 표시: [━━━━░░░░] 50%

   필수 정보:
   ├─ 이름 * (또는 닉네임)
   │   [홍길동        ]
   │
   ├─ 이메일 *
   │   [hong@email.com]
   │
   ├─ 전화번호 (선택)
   │   [010-1234-5678 ]
   │
   └─ 소속 (선택)
       [프리랜서      ]

   맞춤 질문:
   └─ 책을 읽어보셨나요?
       ○ 예  ● 아니오
        ↓
[개인정보 동의]
   ☑ 개인정보 수집 및 이용 동의 *
   └─ [자세히 보기]

   ☐ 이벤트 알림 수신 동의

   [등록 완료하기]
        ↓
[처리 중]
   로딩 스피너 (1-2초)
        ↓

┌─────────────────────────────────────────────────────────────┐
│ PHASE 3: 등록 완료                                              │
└─────────────────────────────────────────────────────────────┘

[등록 완료 화면]
   ┌────────────────────────────────┐
   │ ✓ 등록이 완료되었습니다!        │
   │                                │
   │ 등록 번호: #043                 │
   │                                │
   │ 이벤트: 2025년 10월 북클럽      │
   │ 일시: 10월 15일 오후 7시        │
   │ 장소: 홍대 북카페               │
   └────────────────────────────────┘

   확인 이메일:
   "hong@email.com으로 확인 메일을 발송했습니다"

   빠른 액션:
   ├─ [캘린더에 추가]
   ├─ [등록 정보 수정]
   └─ [친구 초대하기]
        ↓
[등록증 표시] (선택사항)
   QR 코드 + 등록 번호
   "행사장에서 빠른 출석을 위해 저장하세요"

   [이미지로 저장] / [지갑에 추가]
```

**데이터 최소화:**
- 필수: 이름, 이메일만
- 선택: 주최자가 정의한 필드
- 익명 모드: 닉네임만 수집

**확인 및 알림:**
- 즉시: 등록 완료 화면
- 이메일: 확인 메일 (5분 이내)
- 리마인더: 이벤트 1일 전, 3시간 전

---

## 프리미엄 전환 플로우

### 5. 무료 → 프리미엄 업그레이드 플로우

**트리거 시점:**
- 활성 이벤트 3개 초과 시도
- 브랜딩 제거 요청
- 결제 수집 기능 필요
- 명찰 출력 시도

```
┌─────────────────────────────────────────────────────────────┐
│ TRIGGER: 무료 티어 한계 도달                                    │
└─────────────────────────────────────────────────────────────┘

[무료 티어 한계 안내]
   ┌────────────────────────────────┐
   │ 활성 이벤트 3개 한계 도달       │
   │                                │
   │ 더 많은 이벤트를 관리하려면     │
   │ 프리미엄으로 업그레이드하세요   │
   │                                │
   │ 프리미엄 기능:                  │
   │ ✓ 무제한 활성 이벤트            │
   │ ✓ 맞춤 브랜딩                   │
   │ ✓ 고급 분석                     │
   │ ✓ 우선 지원                     │
   │                                │
   │ $25/월 또는 $15/이벤트          │
   │                                │
   │ [요금제 비교하기]               │
   │ [나중에] [업그레이드]           │
   └────────────────────────────────┘
        ↓ [요금제 비교하기]

┌─────────────────────────────────────────────────────────────┐
│ 요금제 선택                                                     │
└─────────────────────────────────────────────────────────────┘

[가격 비교 화면]
   스와이프 가능 카드:

   ┌──────────────┬──────────────┬──────────────┐
   │   무료       │  기본 프리미엄 │ 프로 프리미엄 │
   ├──────────────┼──────────────┼──────────────┤
   │   $0/월      │   $25/월     │   $50/월     │
   │              │              │              │
   │ • 3개 활성   │ • 무제한     │ • 모든 기능  │
   │ • 90일 보관  │ • 365일 보관 │ • 모든 애드온│
   │ • 기본 브랜딩│ • 맞춤 브랜딩│ • 우선 지원  │
   │              │ • 고급 분석  │ • 전담 매니저│
   │              │              │              │
   │  [현재]      │ [선택하기]   │ [선택하기]   │
   └──────────────┴──────────────┴──────────────┘

   또는 이벤트별 결제:
   └─ $15/이벤트 (약정 없음)
        ↓ [기본 프리미엄 선택]

┌─────────────────────────────────────────────────────────────┐
│ 결제 프로세스                                                   │
└─────────────────────────────────────────────────────────────┘

[결제 정보 입력]
   선택한 플랜: 기본 프리미엄
   금액: $25/월

   결제 방법:
   ├─ ● 신용/체크카드
   ├─ ○ 토스페이
   ├─ ○ 네이버페이
   └─ ○ 카카오페이
        ↓
[카드 정보 입력]
   ├─ 카드 번호
   ├─ 유효기간
   ├─ CVC
   └─ 카드 소유자명

   청구 정보:
   ├─ 사업자명 (선택)
   └─ 사업자등록번호 (선택)

   ☑ 자동 갱신 동의
   ☑ 이용약관 동의

   [결제하기 $25/월]
        ↓
[결제 처리]
   보안 결제 진행 중...
   (토스페이먼츠 리다이렉트)
        ↓
[결제 완료]
   ┌────────────────────────────────┐
   │ 🎉 프리미엄 업그레이드 완료!    │
   │                                │
   │ 이제 다음 기능을 사용하세요:    │
   │ ✓ 무제한 활성 이벤트            │
   │ ✓ 맞춤 브랜딩                   │
   │ ✓ 고급 분석                     │
   │                                │
   │ 영수증이 이메일로 발송되었습니다│
   │                                │
   │ [시작하기]                      │
   └────────────────────────────────┘
        ↓
[온보딩 체크리스트]
   프리미엄 기능 활용하기:
   ├─ ☐ 로고 업로드하기
   ├─ ☐ 맞춤 도메인 설정
   ├─ ☐ 브랜드 색상 선택
   └─ ☐ 분석 대시보드 확인
```

**전환 최적화:**
- 무료 기능 완전 사용 후 넛지
- 성공적인 첫 이벤트 후 타이밍
- 사회적 증거 (다른 주최자 후기)
- 14일 무료 체험 옵션

---

## 화면별 데이터 요구사항 매트릭스

| 화면 | 필요 데이터 | 로컬 캐시 | 오프라인 모드 | 실시간 동기화 |
|------|------------|-----------|---------------|---------------|
| 이벤트 생성 | 사용자 ID, 입력 폼 데이터 | ✓ 초안 저장 | ✓ 완전 지원 | - |
| 이벤트 목록 | 이벤트 메타데이터 | ✓ 최근 10개 | ✓ 읽기 전용 | ✓ 실시간 |
| 출석 체크 | 참여자 전체 목록 | ✓ 필수 | ✓ 완전 지원 | ✓ 백그라운드 |
| 경품 추첨 | 참여자 ID + 이름 | ✓ 필수 | ✓ 완전 지원 | - |
| 분석 대시보드 | 집계 통계 | ✓ 24시간 | ✗ 온라인 필요 | ✓ 주기적 |
| 참여자 등록 | 이벤트 정보, 폼 필드 | - | ✗ 온라인 필요 | ✓ 즉시 |

---

## 모바일 최적화 체크리스트

### 한 손 조작 영역
```
┌─────────────┐
│             │ ← 읽기 전용 정보
│    [헤더]   │
│             │
├─────────────┤
│             │ ← 스크롤 가능 콘텐츠
│   [콘텐츠]  │
│             │
│             │
├─────────────┤
│   [버튼]    │ ← 엄지 손가락 영역 (주요 액션)
└─────────────┘
```

### 터치 타겟 크기
- 최소: 44×44px
- 권장: 48×48px
- 주요 CTA: 56×56px

### 로딩 시간 목표
- 페이지 로드: < 1초
- 검색 결과: < 0.5초
- 데이터 동기화: 백그라운드 (사용자 대기 불필요)

---

## 에러 상태 및 엣지 케이스

### 네트워크 오류
```
[오프라인 상태 감지]
        ↓
[배너 표시]
"⚠️ 오프라인 모드 - 변경사항은 자동 저장되며 연결 시 동기화됩니다"
        ↓
[로컬 작업 계속]
        ↓
[재연결 감지]
"✓ 온라인 - 3건의 변경사항 동기화 중..."
        ↓
[동기화 완료]
자동으로 배너 사라짐
```

### 동시 수정 충돌
```
[충돌 감지]
"다른 기기에서 이 항목이 수정되었습니다"
        ↓
[옵션 제공]
├─ [내 변경사항 유지]
├─ [다른 변경사항 수용]
└─ [두 버전 비교하기]
```

### 참여자 등록 마감
```
[정원 초과 시도]
        ↓
[대기자 명단 옵션]
"정원이 마감되었습니다. 대기자 명단에 등록하시겠습니까?"
        ↓
[대기 등록 완료]
"취소 발생 시 이메일로 알려드립니다"
```

---

## 접근성 고려사항

### 스크린 리더 지원
- 모든 버튼에 명확한 레이블
- 이미지 대체 텍스트
- 폼 필드 설명

### 키보드 네비게이션
- 탭 순서 논리적 배치
- 포커스 상태 명확 표시
- 단축키 지원 (선택사항)

### 시각 대비
- WCAG 2.0 AA 준수
- 색상만으로 정보 전달 금지
- 텍스트 크기 조절 가능

---

**문서 버전:** 1.0
**최종 업데이트:** 2025-10-12
**다음 문서:** [DATA_FLOWS.md](./DATA_FLOWS.md)
