# 이벤트 생성 및 관리 화면

## 목차
- [SCR-010 이벤트 생성 (1단계: 기본 정보)](#scr-010-이벤트-생성-1단계-기본-정보)
- [SCR-011 이벤트 생성 (2단계: 참여자 설정)](#scr-011-이벤트-생성-2단계-참여자-설정)
- [SCR-012 이벤트 생성 (3단계: 등록 폼)](#scr-012-이벤트-생성-3단계-등록-폼)
- [SCR-013 이벤트 미리보기](#scr-013-이벤트-미리보기)
- [SCR-014 이벤트 생성 완료](#scr-014-이벤트-생성-완료)
- [SCR-015 이벤트 수정](#scr-015-이벤트-수정)

---

## SCR-010 이벤트 생성 (1단계: 기본 정보)

### 기본 정보
- **화면 ID**: SCR-010
- **화면 경로**: `/events/create/step1`
- **접근 권한**: 인증된 주최자
- **이전 화면**: SCR-020 (홈 대시보드)
- **다음 화면**: SCR-011 (이벤트 생성 2단계)

### 화면 목적
- 이벤트 핵심 정보 입력
- 빠른 이벤트 생성 플로우 시작
- 목표 시간: 1분 이내

### 레이아웃

```
┌─────────────────────────────┐
│ ×  이벤트 만들기    [1/3]   │ ← 헤더
├─────────────────────────────┤
│                             │
│ 📝 기본 정보                │
│                             │
│ 이벤트 이름 *               │
│ ┌─────────────────────────┐│
│ │                         ││
│ └─────────────────────────┘│
│                             │
│ 날짜 및 시간 *              │
│ ┌───────────┬─────────────┐│
│ │ 📅 날짜   │ 🕐 시간    ││
│ └───────────┴─────────────┘│
│                             │
│ 장소 *                      │
│ ┌─────────────────────────┐│
│ │ 📍                      ││
│ └─────────────────────────┘│
│ [지도에서 선택]             │
│                             │
│ 이벤트 설명                 │
│ ┌─────────────────────────┐│
│ │                         ││
│ │                         ││
│ │                         ││
│ └─────────────────────────┘│
│                             │
├─────────────────────────────┤
│     [이전]        [다음]    │ ← 하단 버튼
└─────────────────────────────┘
```

### UI 컴포넌트

#### 1. 헤더
- **좌측**: × 닫기 버튼 (확인 다이얼로그)
- **중앙**: "이벤트 만들기"
- **우측**: 진행 상태 "[1/3]"

#### 2. 섹션 제목
- **아이콘**: 📝
- **텍스트**: "기본 정보"
- **스타일**: Heading 3 / Semibold

#### 3. 이벤트 이름 *

##### 입력 필드
- **레이블**: "이벤트 이름" + 필수 표시(*)
- **플레이스홀더**: "예: 2025년 10월 북클럽 모임"
- **타입**: text
- **최대 길이**: 100자
- **자동 포커스**: 화면 진입 시
- **글자 수**: 우측 하단에 "0/100" 표시

##### 검증
- **필수**: 최소 3자 이상
- **실시간 피드백**:
  - 3자 미만: "최소 3자 이상 입력해주세요" (회색)
  - 3자 이상: 테두리 초록색

#### 4. 날짜 및 시간 *

##### 날짜 선택기
- **레이블**: "날짜 및 시간" + 필수 표시(*)
- **아이콘**: 📅
- **플레이스홀더**: "날짜 선택"
- **입력 방식**: 캘린더 팝업
- **제약**:
  - 오늘 또는 미래 날짜만 선택 가능
  - 과거 날짜 비활성화

##### 시간 선택기
- **아이콘**: 🕐
- **플레이스홀더**: "시간 선택"
- **입력 방식**: 스크롤 휠 또는 드롭다운
- **형식**: 24시간 형식 (14:00) 또는 12시간 형식 (오후 2:00)
- **간격**: 15분 단위

##### 캘린더 팝업 UI
```
┌─────────────────────────────┐
│  2025년 10월          < >   │
├─────────────────────────────┤
│ 일 월 화 수 목 금 토         │
│          1  2  3  4  5       │
│  6  7  8  9 10 11 12         │
│ 13 14 ⭕ 16 17 18 19        │ ← 15일 선택
│ 20 21 22 23 24 25 26         │
│ 27 28 29 30 31               │
├─────────────────────────────┤
│         [취소] [선택]        │
└─────────────────────────────┘
```

#### 5. 장소 *

##### 입력 필드
- **레이블**: "장소" + 필수 표시(*)
- **아이콘**: 📍
- **플레이스홀더**: "예: 홍대 북카페"
- **타입**: text
- **자동완성**: 장소 검색 (선택사항)

##### 지도 선택 버튼
- **텍스트**: "지도에서 선택"
- **스타일**: Secondary Button (소형)
- **액션**: 지도 모달 열기

##### 지도 모달
```
┌─────────────────────────────┐
│ × 장소 선택                 │
├─────────────────────────────┤
│ 🔍 [검색...]                │
│                             │
│ ┌───────────────────────┐  │
│ │                       │  │
│ │      [지도 영역]      │  │
│ │         📍            │  │
│ │                       │  │
│ └───────────────────────┘  │
│                             │
│ 선택한 장소:                │
│ 홍대 북카페                 │
│ 서울시 마포구...            │
│                             │
│        [이 장소 선택]       │
└─────────────────────────────┘
```

#### 6. 이벤트 설명 (선택)

##### 텍스트 에리어
- **레이블**: "이벤트 설명" (필수 아님)
- **플레이스홀더**: "참여자에게 전달할 메시지를 입력하세요"
- **행 수**: 5줄
- **최대 길이**: 1000자
- **글자 수 표시**: "0/1000"

##### 서식 도구 (선택사항)
- **굵게**, *기울임*, [링크]
- 간단한 마크다운 지원

#### 7. 하단 버튼

##### 이전 버튼
- **텍스트**: "이전"
- **스타일**: Secondary Button
- **액션**: 대시보드로 돌아가기 (확인 다이얼로그)

##### 다음 버튼
- **텍스트**: "다음"
- **스타일**: Primary Button
- **상태**:
  - 활성화: 필수 필드 모두 입력
  - 비활성화: 필수 필드 미입력 (회색)

### 인터랙션

#### 초안 자동 저장
```typescript
// 30초마다 자동 저장
useEffect(() => {
  const draftKey = `draft_event_${userId}`;

  const autoSave = debounce(() => {
    if (hasChanges) {
      localStorage.setItem(draftKey, JSON.stringify(formData));
      toast.info('자동 저장됨', { duration: 1000 });
    }
  }, 30000);

  autoSave();

  return () => autoSave.cancel();
}, [formData]);
```

#### 닫기 확인
```typescript
function handleClose() {
  if (hasUnsavedChanges) {
    showDialog({
      title: '작성 중인 내용이 있습니다',
      message: '나가시면 입력한 내용이 사라집니다.',
      actions: [
        { label: '초안 저장', onClick: saveDraft },
        { label: '나가기', onClick: () => navigate('/dashboard'), style: 'destructive' },
        { label: '취소', onClick: () => {} }
      ]
    });
  } else {
    navigate('/dashboard');
  }
}
```

### 데이터

#### 초안 저장 (로컬)
```typescript
interface EventDraft {
  name: string;
  datetime: {
    date: string;      // "2025-10-15"
    time: string;      // "19:00"
  };
  location: {
    name: string;
    address?: string;
    coordinates?: {
      lat: number;
      lng: number;
    };
  };
  description?: string;
  savedAt: number;     // timestamp
}
```

---

## SCR-011 이벤트 생성 (2단계: 참여자 설정)

### 기본 정보
- **화면 ID**: SCR-011
- **화면 경로**: `/events/create/step2`
- **접근 권한**: 인증된 주최자
- **이전 화면**: SCR-010 (이벤트 생성 1단계)
- **다음 화면**: SCR-012 (이벤트 생성 3단계)

### 레이아웃

```
┌─────────────────────────────┐
│ ×  이벤트 만들기    [2/3]   │
├─────────────────────────────┤
│                             │
│ 👥 참여자 설정              │
│                             │
│ 최대 참여자 수              │
│ ┌─────────────────────────┐│
│ │  [-]    50명    [+]    ││ ← 숫자 조정
│ └─────────────────────────┘│
│ ☐ 인원 제한 없음            │
│                             │
│ 등록 마감일                 │
│ ┌─────────────────────────┐│
│ │ 📅 날짜 선택            ││
│ └─────────────────────────┘│
│ ☐ 마감일 설정 안 함         │
│                             │
│ 참여자 등록 모드            │
│ ┌─────────────────────────┐│
│ │ ⦿ 실명 등록 (기본)      ││
│ │   개인정보 수집          ││
│ └─────────────────────────┘│
│ ┌─────────────────────────┐│
│ │ ○ 익명 등록             ││
│ │   닉네임만 수집          ││
│ └─────────────────────────┘│
│                             │
│ 등록 승인                   │
│ ☐ 주최자 승인 필요          │
│   (신청 후 수동 승인)       │
│                             │
├─────────────────────────────┤
│     [이전]        [다음]    │
└─────────────────────────────┘
```

### UI 컴포넌트

#### 1. 헤더
- **진행 상태**: "[2/3]"

#### 2. 최대 참여자 수

##### 숫자 입력기 (Stepper)
- **레이블**: "최대 참여자 수"
- **기본값**: 50명
- **범위**: 1 ~ 500명
- **조정 버튼**:
  - [-]: 10명씩 감소
  - [+]: 10명씩 증가
- **직접 입력**: 숫자 클릭 시 키보드 입력

##### 무제한 옵션
- **체크박스**: "인원 제한 없음"
- **선택 시**: 숫자 입력 비활성화

#### 3. 등록 마감일

##### 날짜 선택기
- **레이블**: "등록 마감일"
- **기본값**: 이벤트 날짜 1일 전
- **제약**: 이벤트 날짜 이전만 선택 가능

##### 마감일 미설정 옵션
- **체크박스**: "마감일 설정 안 함"
- **선택 시**: 이벤트 시작 직전까지 등록 가능

#### 4. 참여자 등록 모드

##### 실명 등록 (기본)
- **라디오 버튼**: 선택됨
- **제목**: "실명 등록 (기본)"
- **설명**: "개인정보 수집" (작은 글씨)
- **배경**: 선택 시 연한 Primary 색상

##### 익명 등록
- **라디오 버튼**: 선택 안 됨
- **제목**: "익명 등록"
- **설명**: "닉네임만 수집" (작은 글씨)
- **배경**: 기본 흰색

##### 정보 툴팁
```
💡 익명 모드란?
참여자가 실명 대신 닉네임으로 등록할 수 있습니다.
개인정보를 수집하지 않아 비공식 모임에 적합합니다.
```

#### 5. 등록 승인

##### 체크박스
- **텍스트**: "주최자 승인 필요"
- **설명**: "(신청 후 수동 승인)"
- **기본값**: 선택 안 됨 (자동 승인)

##### 선택 시 추가 설명
```
📌 승인 모드 활성화
참여자가 등록하면 대기 상태가 되며,
주최자가 수동으로 승인해야 참여 확정됩니다.
```

### 인터랙션

#### 숫자 조정
```typescript
function handleCapacityChange(delta: number) {
  setCapacity(prev => {
    const newValue = prev + delta;
    return Math.max(1, Math.min(500, newValue));
  });
}
```

#### 익명 모드 경고
```typescript
function handleAnonymousMode(enabled: boolean) {
  if (enabled) {
    showDialog({
      title: '익명 모드 활성화',
      message: '익명 모드에서는 참여자의 이름과 연락처를 수집하지 않습니다. 필요 시 나중에 추가 정보를 요청할 수 없습니다.',
      actions: [
        { label: '확인', onClick: () => setAnonymous(true) },
        { label: '취소' }
      ]
    });
  } else {
    setAnonymous(false);
  }
}
```

---

## SCR-012 이벤트 생성 (3단계: 등록 폼)

### 기본 정보
- **화면 ID**: SCR-012
- **화면 경로**: `/events/create/step3`
- **접근 권한**: 인증된 주최자
- **이전 화면**: SCR-011 (이벤트 생성 2단계)
- **다음 화면**: SCR-013 (이벤트 미리보기)

### 레이아웃

```
┌─────────────────────────────┐
│ ×  이벤트 만들기    [3/3]   │
├─────────────────────────────┤
│                             │
│ 📋 등록 폼 설정             │
│                             │
│ 참여자에게 받을 정보를       │
│ 선택하세요                  │
│                             │
│ ┌─────────────────────────┐│
│ │ ☑ 이름 (필수)           ││ ← 비활성화
│ └─────────────────────────┘│
│ ┌─────────────────────────┐│
│ │ ☑ 이메일                ││
│ │   ☐ 필수   ☑ 선택      ││
│ └─────────────────────────┘│
│ ┌─────────────────────────┐│
│ │ ☐ 전화번호              ││
│ │   ☐ 필수   ☑ 선택      ││
│ └─────────────────────────┘│
│ ┌─────────────────────────┐│
│ │ ☑ 소속/회사             ││
│ │   ☐ 필수   ☑ 선택      ││
│ └─────────────────────────┘│
│ ┌─────────────────────────┐│
│ │ ☐ 식단 제한사항         ││
│ │   ☐ 필수   ☑ 선택      ││
│ └─────────────────────────┘│
│                             │
│ [+ 맞춤 질문 추가]          │
│                             │
│ ── 맞춤 질문 ──             │
│ ┌─────────────────────────┐│
│ │ Q1: 책을 읽어보셨나요?  ││
│ │ 답변 형식: 선택형 (예/아니오) │
│ │               [수정] [삭제]│
│ └─────────────────────────┘│
│                             │
├─────────────────────────────┤
│   [이전]      [미리보기]    │
└─────────────────────────────┘
```

### UI 컴포넌트

#### 1. 기본 필드

각 필드는 다음 구조:
```
┌─────────────────────────────┐
│ ☑ [필드명]                  │ ← 활성화/비활성화
│   ○ 필수   ⦿ 선택          │ ← 라디오 버튼 (활성화 시)
└─────────────────────────────┘
```

##### 이름 (항상 필수)
- **체크박스**: 선택됨, 비활성화
- **설명**: "(항상 필수)"

##### 이메일
- **기본값**: 선택됨, 선택사항
- **권장**: 확인 메일 발송을 위해 권장

##### 전화번호
- **기본값**: 선택 안 됨
- **형식**: 자동 하이픈 삽입

##### 소속/회사
- **기본값**: 선택됨, 선택사항
- **플레이스홀더**: "소속 조직 또는 회사명"

##### 식단 제한사항
- **기본값**: 선택 안 됨
- **형식**: 텍스트 입력
- **예시**: "채식", "견과류 알레르기"

#### 2. 맞춤 질문 추가

##### 추가 버튼
- **텍스트**: "+ 맞춤 질문 추가"
- **스타일**: Secondary Button (전체 너비)
- **제한**: 최대 5개

##### 맞춤 질문 생성 모달
```
┌─────────────────────────────┐
│ × 맞춤 질문 추가            │
├─────────────────────────────┤
│                             │
│ 질문                        │
│ ┌─────────────────────────┐│
│ │                         ││
│ └─────────────────────────┘│
│                             │
│ 답변 형식                   │
│ ⦿ 단답형 (텍스트)           │
│ ○ 선택형 (예/아니오)        │
│ ○ 다중 선택                 │
│ ○ 장문형                    │
│                             │
│ 필수 여부                   │
│ ☐ 필수 질문                 │
│                             │
│     [취소]      [추가]      │
└─────────────────────────────┘
```

#### 3. 맞춤 질문 카드

각 추가된 질문은 카드로 표시:
```
┌─────────────────────────────┐
│ Q1: 책을 읽어보셨나요?       │
│ 답변 형식: 선택형 (예/아니오) │
│ ☑ 필수 질문                  │
│                [수정] [삭제] │
└─────────────────────────────┘
```

##### 카드 액션
- **수정**: 질문 편집 모달
- **삭제**: 확인 후 삭제
- **드래그**: 순서 변경 (⋮⋮ 핸들)

### 인터랙션

#### 필드 활성화/비활성화
```typescript
interface FormField {
  id: string;
  type: 'name' | 'email' | 'phone' | 'company' | 'dietary' | 'custom';
  label: string;
  enabled: boolean;
  required: boolean;
  order: number;
}

function toggleField(fieldId: string, enabled: boolean) {
  setFormFields(prev =>
    prev.map(f =>
      f.id === fieldId ? { ...f, enabled } : f
    )
  );
}
```

#### 맞춤 질문 추가
```typescript
interface CustomQuestion {
  id: string;
  question: string;
  answerType: 'text' | 'yes_no' | 'multiple_choice' | 'long_text';
  required: boolean;
  options?: string[];  // 다중 선택 시
  order: number;
}

function addCustomQuestion(question: CustomQuestion) {
  if (customQuestions.length >= 5) {
    toast.error('최대 5개까지만 추가할 수 있습니다');
    return;
  }
  setCustomQuestions(prev => [...prev, question]);
}
```

---

## SCR-013 이벤트 미리보기

### 기본 정보
- **화면 ID**: SCR-013
- **화면 경로**: `/events/create/preview`
- **이전 화면**: SCR-012 (이벤트 생성 3단계)
- **다음 화면**: SCR-014 (이벤트 생성 완료)

### 레이아웃

```
┌─────────────────────────────┐
│ ← 이벤트 미리보기           │
├─────────────────────────────┤
│                             │
│ [참여자 관점]  [주최자 관점]│ ← 탭
│                             │
│ ╔═════════════════════════╗ │
│ ║                         ║ │
│ ║   등록 페이지 미리보기   ║ │
│ ║                         ║ │
│ ║ 📅 2025년 10월 북클럽   ║ │
│ ║                         ║ │
│ ║ 📍 홍대 북카페          ║ │
│ ║ 🕐 10월 15일 오후 7시   ║ │
│ ║                         ║ │
│ ║ 등록 인원: 0/50명       ║ │
│ ║                         ║ │
│ ║ [등록하기]              ║ │
│ ║                         ║ │
│ ╚═════════════════════════╝ │
│                             │
├─────────────────────────────┤
│   [수정]      [이벤트 생성] │
└─────────────────────────────┘
```

### UI 컴포넌트

#### 1. 탭 전환
- **참여자 관점**: 참여자가 보는 등록 페이지
- **주최자 관점**: 주최자가 보는 이벤트 상세

#### 2. 미리보기 영역
- **스타일**: 실제 화면과 동일
- **상호작용**: 읽기 전용
- **배경**: 약간 어두운 오버레이로 미리보기임을 표시

#### 3. 하단 버튼

##### 수정 버튼
- **액션**: 이전 단계로 돌아가기
- **드롭다운**: 어느 단계로 갈지 선택

##### 이벤트 생성 버튼
- **스타일**: Primary Button (크게)
- **액션**: 이벤트 최종 생성
- **로딩**: 스피너 표시

---

## SCR-014 이벤트 생성 완료

### 기본 정보
- **화면 ID**: SCR-014
- **화면 경로**: `/events/create/complete`
- **이전 화면**: SCR-013 (이벤트 미리보기)
- **다음 화면**: SCR-022 (이벤트 상세)

### 레이아웃

```
┌─────────────────────────────┐
│                             │
│                             │
│         🎉                  │
│                             │
│   이벤트가 생성되었습니다!   │
│                             │
│   ┌───────────────────┐    │
│   │ eventmanager.app/ │    │
│   │ e/ABC123          │    │
│   │ [복사] [공유]     │    │
│   └───────────────────┘    │
│                             │
│   빠른 공유:                │
│   [💬] [✉️] [🔗]          │
│                             │
│ ┌───────────────────────┐  │
│ │ 이벤트 관리하기       │  │
│ └───────────────────────┘  │
│                             │
│ [대시보드로 이동]           │
│                             │
└─────────────────────────────┘
```

### UI 컴포넌트

#### 1. 축하 애니메이션
- **이모지**: 🎉 (크게, 애니메이션)
- **색종이**: 떨어지는 애니메이션 (선택사항)

#### 2. 공유 링크
- **URL**: 단축 링크 표시
- **복사 버튼**: 클립보드에 복사
- **공유 버튼**: 네이티브 공유 시트

#### 3. 빠른 공유 아이콘
- **카카오톡** (💬): 카카오톡으로 공유
- **이메일** (✉️): 메일 앱 열기
- **링크** (🔗): 링크 복사

#### 4. 액션 버튼
- **이벤트 관리하기**: SCR-022 (이벤트 상세)로 이동
- **대시보드로 이동**: SCR-020 (홈 대시보드)로 이동

### 인터랙션

#### 공유 처리
```typescript
async function handleShare(method: 'copy' | 'kakao' | 'email' | 'native') {
  const shareUrl = `https://eventmanager.app/e/${eventId}`;
  const shareText = `${event.name}\n${event.datetime}\n${event.location.name}`;

  switch (method) {
    case 'copy':
      await navigator.clipboard.writeText(shareUrl);
      toast.success('링크가 복사되었습니다');
      break;

    case 'kakao':
      Kakao.Share.sendDefault({
        objectType: 'feed',
        content: {
          title: event.name,
          description: shareText,
          imageUrl: event.imageUrl,
          link: { mobileWebUrl: shareUrl, webUrl: shareUrl }
        }
      });
      break;

    case 'email':
      window.location.href = `mailto:?subject=${encodeURIComponent(event.name)}&body=${encodeURIComponent(shareText + '\n\n' + shareUrl)}`;
      break;

    case 'native':
      await navigator.share({
        title: event.name,
        text: shareText,
        url: shareUrl
      });
      break;
  }
}
```

---

**문서 버전:** 1.0
**최종 업데이트:** 2025-10-12
**다음 문서:** [03_EVENT_DASHBOARD.md](./03_EVENT_DASHBOARD.md)
